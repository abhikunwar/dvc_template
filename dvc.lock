schema: '2.0'
stages:
  stage_name:
    cmd: python src/stage_01_prepare.py --config=configs/config.yaml --params=params.yaml
    deps:
    - path: configs/config.yaml
      md5: cf2c905df1c4a39da97cd5552d4ed33f
      size: 228
    - path: data/data.xml
      md5: a304afb96060aad90176268345e10355
      size: 37891850
    - path: params.yaml
      md5: e3f8fdabac12be58f5aaafca2d49e14b
      size: 69
    - path: src/stage_01_prepare.py
      md5: 428dc6bcf024e720a42f13fa1a55c774
      size: 2205
    - path: src/utils/common.py
      md5: d162961d817182441383bdb0e674e685
      size: 675
    - path: src/utils/data_mgmt.py
      md5: c431995350eb4ed52fc8e93d2cf3e876
      size: 825
    outs:
    - path: artifacts/prepare/test.tsv
      md5: 9f2b8ff712c544d5c5ad96f9d10b79da
      size: 4696767
    - path: artifacts/prepare/train.tsv
      md5: eed82551cdf610ba0f72b1c8bdb2092b
      size: 19214552
  stage_one:
    cmd: python src/stage_01_prepare.py --config=configs/config.yaml --params=params.yaml
    deps:
    - path: configs/config.yaml
      md5: e45cb832267b23e5070387082600af56
      size: 382
    - path: data/data.xml
      md5: a304afb96060aad90176268345e10355
      size: 37916850
    - path: params.yaml
      md5: 6539d52d3e30bfbc58f52e307c6ed716
      size: 193
    - path: src/stage_01_prepare.py
      md5: 428dc6bcf024e720a42f13fa1a55c774
      size: 2205
    - path: src/utils/common.py
      md5: a23ecd4904f226562eb8f83231a528a4
      size: 957
    - path: src/utils/data_mgmt.py
      md5: c431995350eb4ed52fc8e93d2cf3e876
      size: 825
    outs:
    - path: artifacts/prepare/test.tsv
      md5: 5906b036ea71a3f5db52aca530061d88
      size: 4668109
    - path: artifacts/prepare/train.tsv
      md5: dfd30efeb5964d9251b57e7454b2be50
      size: 19243210
  stage_two:
    cmd: python src/stage_02_featurize.py --config=configs/config.yaml --params=params.yaml
    deps:
    - path: artifacts/prepare/test.tsv
      md5: 5906b036ea71a3f5db52aca530061d88
      size: 4668109
    - path: artifacts/prepare/train.tsv
      md5: dfd30efeb5964d9251b57e7454b2be50
      size: 19243210
    - path: configs/config.yaml
      md5: e45cb832267b23e5070387082600af56
      size: 382
    - path: params.yaml
      md5: 6539d52d3e30bfbc58f52e307c6ed716
      size: 193
    - path: src/stage_02_featurize.py
      md5: 2d0c0b6961e4525a3a375b3dae24b41d
      size: 3230
    - path: src/utils/common.py
      md5: a23ecd4904f226562eb8f83231a528a4
      size: 957
    - path: src/utils/featurize.py
      md5: f95d04ce4cdad71d6710dcf6220c750d
      size: 570
    outs:
    - path: artifacts/features/test.pkl
      md5: 90b1e01e6ca4898c7847720fec34508a
      size: 2501645
    - path: artifacts/features/train.pkl
      md5: e86e291da3ee01fa5a63e5877ff56ae6
      size: 10223721
  train_stage:
    cmd: python src/stage_03_train.py --config=configs/config.yaml --params=params.yaml
    deps:
    - path: artifacts/features/train.pkl
      md5: e86e291da3ee01fa5a63e5877ff56ae6
      size: 10223721
    - path: configs/config.yaml
      md5: e45cb832267b23e5070387082600af56
      size: 382
    - path: params.yaml
      md5: 6539d52d3e30bfbc58f52e307c6ed716
      size: 193
    - path: src/stage_03_train.py
      md5: 1499d54d57422f17eecec7175f314325
      size: 2251
    - path: src/utils/common.py
      md5: a23ecd4904f226562eb8f83231a528a4
      size: 957
    - path: src/utils/models.py
      md5: dd465d14c9c6c473c19d6857ed63caba
      size: 380
    params:
      params.yaml:
        train.min_sample_split: 16
        train.n_est: 100
        train.n_jobs: 2
        train.random_st: 41
    outs:
    - path: artifacts/model/trained_model.pkl
      md5: fcb6bfbacb40b9d3970da98e722bff98
      size: 4481350
