schema: '2.0'
stages:
  stage_name:
    cmd: python src/stage_01_prepare.py --config=configs/config.yaml --params=params.yaml
    deps:
    - path: configs/config.yaml
      md5: cf2c905df1c4a39da97cd5552d4ed33f
      size: 228
    - path: data/data.xml
      md5: a304afb96060aad90176268345e10355
      size: 37891850
    - path: params.yaml
      md5: e3f8fdabac12be58f5aaafca2d49e14b
      size: 69
    - path: src/stage_01_prepare.py
      md5: 428dc6bcf024e720a42f13fa1a55c774
      size: 2205
    - path: src/utils/common.py
      md5: d162961d817182441383bdb0e674e685
      size: 675
    - path: src/utils/data_mgmt.py
      md5: c431995350eb4ed52fc8e93d2cf3e876
      size: 825
    outs:
    - path: artifacts/prepare/test.tsv
      md5: 9f2b8ff712c544d5c5ad96f9d10b79da
      size: 4696767
    - path: artifacts/prepare/train.tsv
      md5: eed82551cdf610ba0f72b1c8bdb2092b
      size: 19214552
  stage_one:
    cmd: python src/stage_01_prepare.py --config=configs/config.yaml --params=params.yaml
    deps:
    - path: configs/config.yaml
      md5: 510ce69ce6155d264f0f7fb70706f88e
      size: 467
    - path: data/data.xml
      md5: a304afb96060aad90176268345e10355
      size: 37916850
    - path: params.yaml
      md5: 6539d52d3e30bfbc58f52e307c6ed716
      size: 193
    - path: src/stage_01_prepare.py
      md5: 428dc6bcf024e720a42f13fa1a55c774
      size: 2205
    - path: src/utils/common.py
      md5: a23ecd4904f226562eb8f83231a528a4
      size: 957
    - path: src/utils/data_mgmt.py
      md5: c431995350eb4ed52fc8e93d2cf3e876
      size: 825
    outs:
    - path: artifacts/prepare/test.tsv
      md5: d7d25bda62d7862d2d9ab9c57b5ba46a
      size: 4930023
    - path: artifacts/prepare/train.tsv
      md5: cfa9c2dd3d08609999fab3e89b767ca2
      size: 18981296
  stage_two:
    cmd: python src/stage_02_featurize.py --config=configs/config.yaml --params=params.yaml
    deps:
    - path: artifacts/prepare/test.tsv
      md5: d7d25bda62d7862d2d9ab9c57b5ba46a
      size: 4930023
    - path: artifacts/prepare/train.tsv
      md5: cfa9c2dd3d08609999fab3e89b767ca2
      size: 18981296
    - path: configs/config.yaml
      md5: 510ce69ce6155d264f0f7fb70706f88e
      size: 467
    - path: params.yaml
      md5: 6539d52d3e30bfbc58f52e307c6ed716
      size: 193
    - path: src/stage_02_featurize.py
      md5: 2d0c0b6961e4525a3a375b3dae24b41d
      size: 3230
    - path: src/utils/common.py
      md5: a23ecd4904f226562eb8f83231a528a4
      size: 957
    - path: src/utils/featurize.py
      md5: f95d04ce4cdad71d6710dcf6220c750d
      size: 570
    outs:
    - path: artifacts/features/test.pkl
      md5: 841be4a559fa9c1a6ef2333b9d66af00
      size: 2581393
    - path: artifacts/features/train.pkl
      md5: ccd306ac74939b16be66bcf4b9b182b8
      size: 10153285
  train_stage:
    cmd: python src/stage_03_train.py --config=configs/config.yaml --params=params.yaml
    deps:
    - path: artifacts/features/train.pkl
      md5: ccd306ac74939b16be66bcf4b9b182b8
      size: 10153285
    - path: configs/config.yaml
      md5: 510ce69ce6155d264f0f7fb70706f88e
      size: 467
    - path: params.yaml
      md5: 6539d52d3e30bfbc58f52e307c6ed716
      size: 193
    - path: src/stage_03_train.py
      md5: 1499d54d57422f17eecec7175f314325
      size: 2251
    - path: src/utils/common.py
      md5: a23ecd4904f226562eb8f83231a528a4
      size: 957
    - path: src/utils/models.py
      md5: dd465d14c9c6c473c19d6857ed63caba
      size: 380
    params:
      params.yaml:
        train.min_sample_split: 16
        train.n_est: 100
        train.n_jobs: 2
        train.random_st: 41
    outs:
    - path: artifacts/model/trained_model.pkl
      md5: 267958e33d8623a0b249612cc89e217a
      size: 4537078
  eval_state:
    cmd: python src/stage_04_evaluation.py --config=configs/config.yaml --params=params.yaml
    deps:
    - path: artifacts/features/test.pkl
      md5: 841be4a559fa9c1a6ef2333b9d66af00
      size: 2581393
    - path: artifacts/model/trained_model.pkl
      md5: 267958e33d8623a0b249612cc89e217a
      size: 4537078
    - path: configs/config.yaml
      md5: 510ce69ce6155d264f0f7fb70706f88e
      size: 467
    - path: params.yaml
      md5: 6539d52d3e30bfbc58f52e307c6ed716
      size: 193
    - path: src/stage_04_evaluation.py
      md5: 94913cda8fff52437381cd1750d098be
      size: 3551
    - path: src/utils/common.py
      md5: a23ecd4904f226562eb8f83231a528a4
      size: 957
    outs:
    - path: score.json
      md5: a8b6df366e2834645a79915eca12ea31
      size: 240876
